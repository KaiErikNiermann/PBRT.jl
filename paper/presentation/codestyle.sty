% All in preamble:

\usepackage{listings}

\lstset{
    basicstyle=\scriptsize\ttfamily, % Small and typewriter font
    breaklines=true,            % Automatic line breaking
    columns=fullflexible,       % Better column formatting
    frame=single,               % Frame around code snippets
    language=C++,               % Default language is C++
    showstringspaces=false,     % Don't show spaces in strings
    commentstyle=\color{gray}\itshape,
    keywordstyle=\color{blue},
    stringstyle=\color{orange}
}