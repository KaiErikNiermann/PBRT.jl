% All in preamble:

\usepackage{listings}

\lstset{frame=tb,
    language=Python,
    aboveskip=3mm,
    belowskip=3mm,
    showstringspaces=false,
    columns=flexible,
    basicstyle={\small\upshape},
    numbers=left,
    keywordstyle=\color{black}\bfseries,
    breaklines=true,
    breakatwhitespace=true,
    mathescape=true,
    tabsize=3
}